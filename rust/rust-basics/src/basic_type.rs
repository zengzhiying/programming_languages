
/**
 * åŸºæœ¬æ•°æ®ç±»å‹ - æ ‡é‡æ•°æ®ç±»å‹ 
 * æ ‡é‡ï¼ˆscalarï¼‰ç±»å‹è¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„å€¼ï¼Œæ ‡é‡ç±»å‹æœ‰ 4 ç§ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”ç±»å‹å’Œå­—ç¬¦ç±»å‹
 * æ ‡é‡ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­ï¼Œæ¯æ¬¡æ‹·è´éƒ½æ˜¯æ‹·è´æ•´ä¸ªå€¼
 */
pub fn data_type_basic() {
    // let å®šä¹‰å˜é‡æ˜¯ä¸å¯å˜çš„
    // è‡ªåŠ¨æ¨å¯¼ç±»å‹ i32 
    let a = 10;
    // æ‰‹åŠ¨æŒ‡å®šç±»å‹
    let b: i32 = 20;
    // å­—é¢é‡ç±»å‹æ³¨è§£
    let c = 30i32;
    // æˆ–è€…æ˜¯åŠ  _ åŒºåˆ†
    let d = 30_i32;

    // è°ƒç”¨å‡½æ•°è¿”å›
    let e = add(add(a, b), add(c, d));
    let e1 = add1(&add1(&a, &b), &add1(&c, &d));

    println!("(a + b) + (c + d) = {} = {}", e, e1);

    // é€šè¿‡ let mut å®šä¹‰å¯å˜å˜é‡
    let mut ma = 6;
    println!("mut ma is {ma}");
    // mut ç±»å‹çš„å˜é‡å‰åèµ‹å€¼ç±»å‹ä¸€å®šç›¸åŒï¼Œå› ä¸ºå˜é‡æœ¬èº«çš„å†…å­˜æ²¡æœ‰æ”¹å˜
    ma = 8;
    println!("mut ma is {ma}");

    // å˜é‡é®è”½ shadowing
    let yq = 5;
    // å…è®¸å®šä¹‰ç›¸åŒçš„å˜é‡åç§°è¦†ç›–ä¹‹å‰çš„å˜é‡ï¼Œç±»å‹å¹¶æ²¡æœ‰é™åˆ¶
    let yq = yq + 1;

    {
        // è¿›å…¥å†…éƒ¨ä½œç”¨åŸŸ
        // å˜é‡æ”¯æŒ shadowing ï¼ˆé®è”½æˆ–éšè—ï¼‰ï¼Œç›¸åŒçš„å˜é‡ä¼šåœ¨å½“å‰ä½œç”¨åŸŸå†…è¦†ç›–ä»¥å‰çš„å˜é‡
        // å¯ä»¥é‡å¤ç”¨ç›¸åŒçš„å˜é‡åå®šä¹‰ï¼Œè€Œä¸”å˜é‡ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œå› ä¸ºå®Œå…¨æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡
        // å˜é‡å¤šæ¬¡å®šä¹‰éƒ½ç›¸å½“äºæ–°çš„å¯¹è±¡ï¼Œä¼šå¤šæ¬¡åˆ†é…å†…å­˜ï¼Œè€Œ mut åªä¼šåˆ†é…1æ¬¡
        let yq = yq * 2;
        println!("yq is value: {}", yq);
    }

    // é®è”½çš„å˜é‡ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œæ¢å¤å¤–éƒ¨ä½œç”¨åŸŸçš„å€¼
    println!("yq is value: {}", yq);

    // å¸¸é‡å®šä¹‰ï¼Œä½¿ç”¨ const å…³é”®å­—ï¼Œå¿…é¡»å£°æ˜ç±»å‹
    // å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å®šä¹‰ï¼Œå¯ä»¥è¢«å…¶ä»–å¤šä¸ªéƒ¨åˆ†çš„ä»£ç å…±äº«
    // å¸¸é‡åœ¨ç¼–è¯‘æ—¶è¿›è¡ŒåµŒå…¥ï¼Œå› æ­¤åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½ç”Ÿæ•ˆ
    const SECONDS: u32 = 5 * 60;
    println!("const SECONDS: {SECONDS}");

    // é€šè¿‡å‰å¯¼ä¸‹åˆ’çº¿è¡¨ç¤ºè®©ç¼–è¯‘å™¨å¿½ç•¥ä¸ä½¿ç”¨çš„å˜é‡è€Œä¸è­¦å‘Š
    let _x = 3;

    // ä¸‹åˆ’çº¿å¯ä»¥æ–¹ä¾¿è¡¨ç¤ºæ¯”è¾ƒé•¿çš„æ•°å­—ï¼Œæé«˜å¯è¯»æ€§ï¼Œä¸å½±å“æ•°å€¼æœ¬èº«
    let f: i64 = 1_000_000;
    println!("{}", f);

    // é»˜è®¤å†™æ³•æ˜¯åè¿›åˆ¶è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶ã€äºŒè¿›åˆ¶ç­‰å­—é¢é‡çš„æ–¹å¼è¡¨ç¤º
    let h = 0xff;
    let o = 0o77;
    let bin = 0b1111_0000;
    // è¾“å‡ºé»˜è®¤éƒ½æ˜¯åè¿›åˆ¶æ–¹å¼
    println!("h: {h}, o: {o}, bin: {bin}");

    // ä¹Ÿå¯ä»¥åˆ†åˆ«ç”¨ä¸åŒçš„å ä½ç¬¦è¡¨ç¤ºä¸åŒçš„è¾“å‡º
    println!("{:b}, {:o}, {:x}", bin, o, h);

    // æœ‰ç¬¦å·ç±»å‹i8, i16, i32, i64
    let v1: i8 = 68;
    let v2: i16 = 10467;
    let v3: i32 = 2889;
    let v4: i64 = 65566;
    println!("v1: {}, v2: {}, v3: {}, v4: {}", v1, v2, v3, v4);

    // æ— ç¬¦å·ç±»å‹u8, u16, u32, u64
    let v5: u8 = 252;
    let v6: u16 = 65535;
    let v7: u32 = 0;
    let v8: u64 = 66666;
    println!("v5: {}, v6: {}, v7: {}, v8: {}", v5, v6, v7, v8);

    // ä¸CPUä½å®½ä¸€è‡´çš„ç±»å‹ isize,usize
    // åœ¨ 32 ä½ CPU ä¸Šç­‰åŒäº i32 ä»¥åŠ u32ï¼Œåœ¨ 64 ä½ CPU ä¸Šç­‰åŒäº i64 ä»¥åŠ u64
    let v9: isize = -102;
    let v10: usize = 201;
    println!("v9: {}, v10: {}", v9, v10);

    // æµ®ç‚¹æ•° f32 f64ï¼Œè‡ªåŠ¨æ¨å¯¼æ˜¯ f64
    let v11: f32 = 3.1415;
    let v12: f64 = 2.71828;
    println!("v11: {}, v12: {}", v11, v12);

    // æ•°å­—éƒ½æ”¯æŒå„ç±»è¿ç®—ï¼ŒåŒ…æ‹¬ï¼šå››åˆ™è¿ç®—ã€å–ä½™ç­‰ï¼Œæ•´æ•°é™¤æ³•å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ä¼šèˆå…¥
    // åŠ æ³•
    let sum = 5 + 10;

    // å‡æ³•
    let difference = 95.5 - 4.3;

    // ä¹˜æ³•
    let product = 4 * 30;

    // é™¤æ³•
    let quotient = 56.7 / 32.2;
    // æ•´æ•°ç›¸é™¤å‘ä¸‹èˆå…¥
    let truncated = -5 / 3; // ç»“æœä¸º -1

    // å–ä½™
    let remainder = 43 % 5;

    println!("sum: {sum}, difference: {difference}, \
             product: {product}, quotient: {quotient}, \
             truncated: {truncated}, remainder: {remainder}");

    // å¸ƒå°”ç±»å‹ åªæœ‰ true å’Œ false ä¸»è¦ç”¨åœ¨æ§åˆ¶è¯­å¥ä¸­
    let t = true;
    let f: bool = false;
    println!("true: {t}, false: {f}");

    // å­—ç¬¦ç±»å‹ charï¼Œå­—é¢é‡å¿…é¡»ç”¨å•å¼•å·åŒ…è£¹ï¼ŒåŒå¼•å·æ˜¯å­—ç¬¦ä¸²
    // æ¯ä¸ªå­—ç¬¦å  4 ä¸ªå­—èŠ‚
    let c = 'z';
    let z: char = 'ä¸­';
    let heart_eyed_cat = 'ğŸ˜»';
    println!("c: {c}, z: {z}, emoji: {heart_eyed_cat}");
    // å•å­—èŠ‚å­—ç¬¦å­—é¢å†™æ³•ï¼Œæœ¬è´¨æ˜¯ u8 ç±»å‹ï¼Œå‰é¢å¿…é¡»å¸¦ b
    // åªèƒ½å†™ ASCII å­—ç¬¦ï¼Œä¸èƒ½è¶…è¿‡ 1 ä¸ªå­—èŠ‚
    let vb = b'A';
    // è¾“å‡ºæ˜¯æ•°å­—
    println!("byte: {vb}");

}

// å®šä¹‰åŠ æ³•å‡½æ•°
// å‡½æ•°å‚æ•°ï¼ˆå½¢å‚ï¼‰å’Œè¿”å›å€¼éƒ½å¿…é¡»å¼ºç±»å‹æŒ‡å®š
fn add(i: i32, j: i32) -> i32 {
    i + j
}

// å‡½æ•°å¸¦æ˜¾å¼ç”Ÿå‘½å‘¨æœŸ
fn add1<'a, 'b>(i: &'a i32, j: &'b i32) -> i32 {
    *i + *j
}
